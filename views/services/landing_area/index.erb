<%= erb :'services/components/_header_cta', locals: {text: '¡Reserva una videollamada con nuestro equipo!', text_button: "Solicitar Reunión"} %>
<%= erb :'services/landing_area/_hero', locals: {service_area: service_area} %>
<%= erb :'services/landing_area/area', locals: {service_area: service_area} %>
<%= erb :'services/landing_area/services', locals: {
  services: service_area.services,
  area: service_area
} %>
<%= erb :'component/sections/_contact_bottom_section',
        locals: {
          contact_text: "Agenda una reunión con nuestro equipo de consultores para analizar los desafíos que tienen y explorar cómo podemos ayudar.",
          button_text: "Programar Reunión"
        } %>

<script>
    {
        const service = '<%= @service_slug %>'

        const dinamicContent = document.getElementById('dinamic-content-area')
        const plusButton = document.getElementById("plus-button-area")

        window.onload = () => {
            const service_section = document.getElementById(service)

            if (service_section) {
                dinamicContent.classList.toggle('collapse')
                dinamicContent.classList.add('collapse');
                plusButton.innerHTML = "<img src='/app/img/icons/plus.png' alt='minus' loading='lazy'/>"

                const yOffset = -140
                const y = service_section.getBoundingClientRect().top + window.pageYOffset + yOffset
                window.scrollTo({top: y, behavior: 'smooth'})

                //section open
                const dinamicContentService = document.getElementById('dinamic-content-<%= @service_slug %>')
                const plusButtonService = document.getElementById("plus-button-<%= @service_slug %>")

                dinamicContentService.classList.toggle('collapse')
                dinamicContentService.classList.add('show');
                plusButtonService.innerHTML = "<img src='/app/img/icons/minus.png' alt='minus' loading='lazy'/>"
            }
        }
    }
</script>
<%
carousel = t("home2022.home_hero").map.with_index{|e, index| {
  subject: e[:subject],
  description: e[:description],
  url: e[:url],
  img: e[:img],
  alt: e[:alt],
  active: index == 0
}}

%>
<section id="hero">
  <div id="carouselExampleCaptions" class="carousel hero__carousel slide" data-bs-ride="false">
    <div class="carousel-indicators">
      <% carousel.each_with_index do |item, index| %>
        <button
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide-to="<%=index%>" aria-label="Slide <%=index+1%>"
          <%= item[:active] ? "class='active' aria-current='true'" : '' %>
        >
        </button>
      <% end %>
    </div>
    <div class="carousel-inner">
    <%carousel.each do |item|%>
      <div class="carousel-item hero__carousel-item<%=' active' if item[:active]%>">
        <div class="">
          <h5><%=item[:subject]%></h5>
          <p><%=item[:description]%></p>
          <a src="<%= item[:url] %>" class="btn my-primary-button">More info</a>
        </div>
        <img src="/app/img/hero_cover.png" class="" alt="<%=item[:alt]%>">
      </div>
      <%end%>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</section>

<%
  clients_per_row = 4
  clients_per_row_mobile = 3
  active= "active"
  mobile_active="active"
%>
<section id="client-carousel" class="p-3 client-carousel">

  <img src="https://kleer-images.s3.sa-east-1.amazonaws.com/website-assets/yellow_circle.svg" class="desktop_figure promotion_yellow_circle" loading="lazy"/>
  <div class="container client-carousel__container">
    <h3 class="client-carousel__title mt-3">
      <%= t('home.home_clients.title') %>
    </h3>
    <div id="carouselClients" class="carousel logos-container slide mt-5" data-bs-ride="carousel">
      <img src="https://kleer-images.s3.sa-east-1.amazonaws.com/website-assets/green_triangle.svg" class="desktop_figure promotion_green_triangle" loading="lazy"/>
      <img src="https://kleer-images.s3.sa-east-1.amazonaws.com/website-assets/rustic_line.svg" class="desktop_figure promotion_rustic_line" loading="lazy"/>
      <img src="https://kleer-images.s3.sa-east-1.amazonaws.com/website-assets/rustic_spring.svg" class="desktop_figure promotion_rustic_spring" loading="lazy"/>
      <div class="carousel-inner">
      <% @clients.each_with_index  do |client, index| %>
        <% if index % clients_per_row == 0 %>
          <div class="carousel-item <%= active%>" data-bs-interval="3000">
            <div class="row">
        <% end %>
            <div class="col-<%=12 / clients_per_row %>">
              <img src="<%= client[:img]%>" alt="<%= client[:name] %>" loading="lazy"/>
            </div>
        <% if index % clients_per_row == clients_per_row-1 %>
          </div>
        </div>
        <% end %>
          <% active= ""%>
      <% end %>
      </div>
    </div>

  </div>
</section>
<section id="mobile-client-carousel" class="p-3 mobile-client-carousel">
  <div class="container client-carousel__container">

    <h3 class="client-carousel__title mt-3">
      <%= t('home.home_clients.title') %>
    </h3>
    <div id="carouselClients" class="carousel slide mt-5" data-bs-ride="carousel">

      <div class="carousel-inner">
        <% @clients.each_with_index  do |client, index| %>
          <% if index % clients_per_row_mobile == 0 %>
            <div class="carousel-item <%= mobile_active%>" data-bs-interval="3000">
              <div class="row">
          <% end %>
          <div class="col-<%=12 / clients_per_row_mobile %>">
            <img src="<%= client[:img]%>" alt="<%= client[:name] %>" loading="lazy"/>
          </div>
          <% if index % clients_per_row_mobile == clients_per_row_mobile-1 %>
            </div>
            </div>
          <% end %>
          <% mobile_active= ""%>
        <% end %>
      </div>
    </div>
  </div>
</section>
